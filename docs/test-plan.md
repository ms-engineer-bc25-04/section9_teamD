## テスト設計書（ちょこっと）

### 1. テストの目的

このアプリケーションは、保護者・保育園職員の双方がPTA活動をよりスムーズに参加・管理できるよう設計されている。以下の目的でテストを行う：

- 各ユーザーが意図通りの機能を利用できるか確認
- 入力値・操作ミスへの耐性やバリデーションの検証
- ユーザーの状態に応じた適切な画面遷移・UI表示の確認
- 保育園職員によるイベント管理とポイント処理が正しく動作するか確認

---

### 2. テスト対象機能

#### 保護者向け機能：
- ユーザー登録・ログイン
- イベント一覧（カレンダー）
- イベント詳細閲覧・参加申込
- ポイント確認・履歴・景品交換・優先権表示
- ハンバーガーメニュー操作

#### 職員向け機能：
- 職員用ログイン
- 管理メニュー
- イベント作成・編集・削除
- ポイント付与機能
- 景品カード管理機能
- ハンバーガーメニュー操作（職員用）

---

### 3. テスト前提条件

- テスト用の保護者／職員アカウントが事前に登録されている
- テスト用のイベントが複数作成済みである
- ポイント／景品交換ルールが一部未確定であるため、仕様に合わせて随時更新する

---

### 4. テスト方針

- PTA参加・景品交換の主要な導線（登録 → 申込 → ポイント確認 → 景品交換）を **クリティカルパス** として優先的に確認する
- 正常系テストを先行し、異常系テスト（満席、在庫切れ、ポイント不足など）はユースケースに応じて洗い出し追加
- ロールによる画面表示・遷移の切り替えを正確に動作させることを重視

---

### 5. テストケース一覧

🟢：正常系　🟡：異常系

| No | 種別 | 画面名 | テスト項目 | 入力・状態 | 期待結果 |
|----|------|--------|-------------|-------------|-------------|
| 1 | 🟢 | ユーザー登録 | 正しく登録できる | 正しい入力値 | ログイン状態になる |
| 2 | 🟢 | ログイン | 正しくログインできる | 有効な保護者ID | イベント一覧に遷移 |
| 3 | 🟢 | イベント一覧 | カレンダーが表示される | イベント登録済 | 日付順で表示される |
| 4 | 🟢 | イベント詳細 | 詳細情報が表示される | 任意のイベント | タイトル・場所・定員など表示 |
| 5 | 🟢 | 参加申込 | 申込が完了する | 空きあり | 申込完了＋記録作成 |
| 6 | 🟡 | 参加申込 | 満席イベントは申込不可 | 満席イベント | 警告表示 or 申込不可 |
| 7 | 🟢 | ポイント確認 | ポイントが表示される | 任意ユーザー | 所持ポイントが表示される |
| 8 | 🟢 | ポイント履歴 | 履歴が見られる | 参加履歴あり | 日付順で履歴表示 |
| 9 | 🟢 | 景品交換 | 景品を交換できる | ptが必要以上 | 交換＋ポイント減算 |
| 10 | 🟡 | 景品交換 | ポイント不足時交換不可 | pt未満 | 交換不可 or 警告表示 |
| 11 | 🟡 | 景品交換 | 在庫切れ時は交換不可 | 景品の在庫が0 | 「在庫切れ」メッセージ表示 |
| 12 | 🟢 | 優先権表示 | 優先権が表示される | 条件を満たすユーザー | 優先マークが表示される |
| 13 | 🟢 | 職員ログイン | 正しくログインできる | 有効な職員ID | 管理メニューに遷移 |
| 14 | 🟢 | イベント作成 | 作成が成功する | 必須項目入力 | カレンダーに反映 |
| 15 | 🟢 | ポイント付与 | ポイントが加算される | 保護者＋イベント指定 | ポイントが追加される |
| 16 | 🟢 | カード登録 | 報酬カードが登録される | 正常な入力値 | カード一覧に反映 |
| 17 | 🟢 | 権限制御 | ロール別に表示が分岐する | 保護者／職員でログイン | 各トップ画面に遷移 |

---

